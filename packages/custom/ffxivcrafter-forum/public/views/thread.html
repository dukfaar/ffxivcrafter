<div layout="column" layout-padding ng-cloak>
  <div layout="row" layout-align="start center">
    <md-button ng-if="thread.category" class="md-fab md-mini md-primary md-hue-2" aria-label="back" ng-href="/forum/category/{{thread.category}}">
      <md-icon class="material-icon">arrow_backwards</md-icon>
    </md-button>
    <h1>{{thread.title}}</h1>
    <span flex></span>
    <div layout="row" layout-align="center center">
      <md-button
        class="md-raised md-primary"
        ng-if="allowed('delete threads') && user._id === thread.creator._id"
        ng-click="deleteThreadDialog()"
        ga-track-event="['forum thread', 'delete', 'dialog open']">
        <md-icon class="material-icons">delete</md-icon>
      </md-button>
      <md-button
        class="md-raised md-primary"
        ng-if="allowed('create forum posts')"
        ng-click="createPostDialog()"
        ga-track-event="['forum thread', 'comment', 'dialog open']">
        <md-icon class="material-icons">comment</md-icon>
      </md-button>
    </div>
  </div>

  <md-card ng-if="posts.length > 0">
    <md-card-content>
      <paginate list="posts" limit="10">
        <div ng-repeat="post in paginateController.getPage()">
          <forum-post post="post"></forum-post>
          <md-divider></md-divider>
        </div>
        <paginate-controls page-buttons="1"></paginate-controls>
      </paginate>
    </md-card-content>
  </md-card>
</div>
