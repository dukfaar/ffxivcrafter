<page-base>
  <div layout="row">
    <div flex="25">
      <md-card>
        <md-toolbar class="md-hue-2">
          <div class="md-toolbar-tools">
            <span>Inventory</span>
            <span flex></span>
          </div>
        </md-toolbar>

        <md-card-content>
          <div ng-repeat="item in inventory.items">
            <md-input-container>
              <label>{{ItemDatabase.get(item.item).name}}</label>
              <input flex ng-min="0" type="number" novalidate ng-model="item.amount" ng-change="pushUpdateAndUpdateCraftables()" ng-model-options="{debounce:300}"/>
            </md-input-container>
            <md-icon class="material-icons" ng-click="removeItem(item)">delete</md-icon>
          </div>
        <md-card-content>
      </md-card>
    </div>

    <div flex="25">
      <md-card>
        <md-card-content>
          <md-input-container md-no-float>
            <input ng-model="itemService.filter" ng-change="itemService.updateList()" ng-model-options="{debounce:300}" placeholder="Search"></input>
          </md-input-container>
          <md-list>
            <md-list-item ng-repeat="item in itemService.itemList" ng-click="selectItem(item)">
              {{item.name}}
            </md-list-item>
          </md-list>
        </md-card-content>
      </md-card>
    </div>

    <div flex="25">
      <md-card>
        <md-card-content>
          <table>
            <tr>
              <th>Item</th>
              <th>Item Price</th>
              <th>Material Price</th>
            </tr>
            <tr ng-repeat="craftable in craftables">
              <td>{{ItemDatabase.get(craftable.outputs[0].item).name}}</td>

              <td>{{ItemDatabase.get(craftable.outputs[0].item).price}}</td>

              <td>{{inputSum(craftable)}}</td>
            </tr>
          </table>
        </md-card-content>
      </md-card>
    </div>

    <div flex="25">
      <md-card>
        <md-card-content>
          This page is work in progress
        </md-card-content>
      </md-card>
    </div>
  </div>
</page-base>
