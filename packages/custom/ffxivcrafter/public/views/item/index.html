<div ng-controller="ItemController" flex>
  <main style="overflow:auto">
    <div flex>
      <md-content layout="row" layout-wrap>
        <md-card ng-repeat="item in itemList">
          <md-card-header>
            <md-card-header-text>
              <span class="md-title" ng-show="!editMode">{{item.name}}</span>
              <md-input-container ng-show="editMode">
                <label>Item-Name</label>
                <input ng-model="item.name" ng-change="updateItem(item)"/>
              </md-input-container>
            </md-card-header-text>

          </md-card-header>

          <md-card-content>
            <div ng-show="!editMode">
              <label>Market Price</label>
              <span>{{item.price}}</span>
            </div>
            <md-input-container ng-show="editMode">
              <label>Market Price</label>
              <input ng-model="item.price" ng-change="updateItem(item)"/>
            </md-input-container>

            <div ng-show="!editMode">
              <label>Gathering Effort</label>
              <span>{{item.gatheringEffort}}</span>
            </div>
            <md-input-container ng-show="editMode">
              <label>Gathering Effort</label>
              <input ng-model="item.gatheringEffort" ng-change="updateItem(item)"/>
            </md-input-container>
          </md-card-content>
          <md-card-actions layout="row">
            <md-button ng-click="deleteItem(item)">Delete</md-button>
          </md-card-actions>
        </md-card>
      </md-content>
    </div>
  </main>

  <footer>
    <md-toolbar layout="row">
      <md-button ng-click="createItem()">New</md-button>
      <md-button ng-click="toggleEditMode()">EditMode</md-button>

      <md-input-container md-no-float>
        <input ng-model="filter" ng-change="updateList()" placeholder="Search"></input>
      </md-input-container>
    </md-toolbar>
  </footer>
</div>
