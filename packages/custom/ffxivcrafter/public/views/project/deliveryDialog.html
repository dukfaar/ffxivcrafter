<md-dialog layout-padding>
  <md-dialog-content>
    <h2>
      So you want to deliver some
      <a target="_blank" ng-href="http://ffxiv.gamerescape.com/wiki/{{item.name|encodeURIComponent}}">
        <md-tooltip>Link will open in a new tab</md-tooltip>
        <span>{{item.name}}</span>
      </a> <span ng-if="data.gathers.hq">HQ</span>?
    </h2>

    <form name="gatherForm" layout="column">
      <md-input-container md-is-error="data.amount===0">
        <label translate="how.many"></label>
        <input required novalidate type="number" min="0" ng-model="data.amount"/>
      </md-input-container>

      <md-switch ng-if="allowed('projectManager')" ng-model="data.dontUseForContribution">{{data.dontUseForContribution?'Ignore this for contribution':'Count this for contribution'}}</md-switch>
    </form>
  </md-dialog-content>

  <md-dialog-actions>
    <md-button ng-click="deliver()" ng-disabled="gatherForm.$invalid" translate="action.deliver" class="md-raised md-primary"></md-button>
    <md-button ng-click="cancel()" translate="action.cancel" class="md-raised md-primary"></md-button>
  </md-dialog-actions>
</md-dialog>
