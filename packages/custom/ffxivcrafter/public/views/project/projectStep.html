<div class="step">
  <div layout="column">

    <div layout="row">
      <span>{{step.amount}}</span>
      <span flex style="margin-left:8px">{{step.item.name}}</span>

      <span>
        <select ng-model="step.step" ng-change="update()">
          <option ng-value="Craft">Craft</option>
          <option ng-value="Buy">Buy</option>
          <option ng-value="Gather">Gather</option>
        </select>
      </span>
      <span>
        <span ng-class="step.hq?'isHQStep':'isNQStep'" ng-click="toggleHQ()">HQ</span>
      </span>
    </div>

    <div layout="row" style="margin-bottom:0.5em;" ng-class="suggestionClass(step)">
      <md-tooltip ng-if="step.inputs.length>0&&isCheaperToBuy(step)">It's cheaper to buy this, than crafting it</md-tooltip>
      <span flex ng-click="priceDialog(step.item)">{{(step.hq?step.item.priceHQ:step.item.price).toLocaleString()}}gil/pc</span>
      <span>{{((step.hq?step.item.priceHQ:step.item.price) * step.amount).toLocaleString()}}gil</span>
    </div>
  </div>

  <div ng-if="step.inputs.length>0" class="stepList">
    <project-step data-step="childStep" ng-repeat="childStep in step.inputs" update-step="updateStep()" price-update="priceUpdate()"></project-step>
  </div>
</div>
