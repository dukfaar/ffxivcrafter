<page-base >
  <div layout="row" layout-fill>
    <div layout="column" flex>
      <div layout="column">

        <h1 layout="row" layout-align="center center">{{accountProfileController.profileUser.name}}</h1>

        <md-card>
          <md-card-content layout="column" layout-padding>
            <div style="white-space:pre-wrap;" ng-bind-html="accountProfileController.profileUser.aboutme|kanbanText">
            </div>
          </md-card-content>
        </md-card>
      </div>

      <div layout="row">
        <div flex>
          <md-card>
            <md-card-header>
              Latest Forum Posts
            </md-card-header>
            <md-card-content>
              <div ng-repeat="post in accountProfileController.latestForumPosts track by post._id">
                <div layout-padding style="white-space:pre-wrap;" ng-bind-html="post.text|kanbanText">
                </div>
                <md-divider ng-if="!$last"></md-divider>
              </div>
            </md-card-content>
          </md-card>
        </div>

        <div flex>
          <md-card>
            <md-card-header>
              Latest Gallery Images
            </md-card-header>
            <md-card-content>
              <md-grid-list md-cols="3" md-cols-xs="1" md-cols-sm="2" md-cols-md="2" md-gutter="0.5em" md-row-height="1:1">
                <md-grid-tile ng-repeat="image in accountProfileController.latestImages track by image._id">
                  <img
                    style="max-width:100%; max-height:100%;"
                    ng-src="/api/imageThumbnailData/{{image._id}}"/>
                </md-grid-tile>
              </md-grid-list>
            </md-card-content>
          </md-card>
        </div>
      </div>
    </div>

    <div layout="column">
      <md-card ng-if="accountProfileController.profileUser.avatarImage && accountProfileController.profileUser.avatarImage.length > 0">
        <md-card-content >
            <img ng-src="/api/imageThumbnailData/{{accountProfileController.profileUser.avatarImage}}"/>
        </md-card-content>
      </md-card>

      <md-card>
        <md-card-content>
          Forum Posts: {{accountProfileController.forumPostCount}}
        </md-card-content>
      </md-card>

      <md-card>
        <md-card-content>
          Gallery comments: {{accountProfileController.galleryCommentCount}}
        </md-card-content>
      </md-card>
    </div>
  </div>
</page-base>
